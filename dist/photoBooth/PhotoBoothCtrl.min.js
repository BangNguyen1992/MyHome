"use strict";!function(){function e(e){function t(){navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then(function(e){n.src=window.URL.createObjectURL(e),n.play()})["catch"](function(e){console.error("OH NO !!!",e)})}function a(){var t=n.videoWidth,a=n.videoHeight;return l.width=t,l.height=a,setInterval(function(){i.drawImage(n,0,0,t,a),e.pixels=i.getImageData(0,0,t,a),e.pixels=o(e.pixels),e.pixels=r(e.pixels),i.globalAlpha=e.alpha,i.putImageData(e.pixels,0,0)},30)}function o(t){for(var a=0;a<t.data.length;a+=4)t.data[a+0]=t.data[a+0]+e.color.red,t.data[a+1]=t.data[a+1]+e.color.green,t.data[a+2]=t.data[a+2]+e.color.blue;return t}function r(t){for(var a=(parseInt(e.colorSplit.red),parseInt(e.colorSplit.green),parseInt(e.colorSplit.blue),0);a<t.data.length;a+=4)t.data[a+0]=t.data[a+0+e.colorSplit.red],t.data[a+1]=t.data[a+1+e.colorSplit.green],t.data[a+2]=t.data[a+2+e.colorSplit.blue];return t}var n=document.querySelector(".player"),l=document.querySelector(".photo"),i=l.getContext("2d"),c=document.querySelector(".strip"),d=document.querySelector(".snap");e.color={red:0,green:0,blue:0},e.colorSplit={red:0,green:0,blue:0},e.alpha=1,t(),n.addEventListener("canplay",a),e.takePhoto=function(){d.currentTime=0,d.play();var e=l.toDataURL("image/jpg"),t=document.createElement("a");t.href=e,t.setAttribute("download","download"),t.innerHTML='<img src="'+e+'" alt="Take photo"/>',c.insertBefore(t,c.firstChild)}}angular.module("myApp").controller("PhotoBoothCtrl",e),e.$inject=["$scope"]}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBob3RvQm9vdGgvUGhvdG9Cb290aEN0cmwuanMiXSwibmFtZXMiOlsiUGhvdG9Cb290aEN0cmwiLCIkc2NvcGUiLCJnZXRWaWRlbyIsIm5hdmlnYXRvciIsIm1lZGlhRGV2aWNlcyIsImdldFVzZXJNZWRpYSIsInZpZGVvIiwiYXVkaW8iLCJ0aGVuIiwibG9jYWxNZWRpYVN0cmVhbSIsInNyYyIsIndpbmRvdyIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInBsYXkiLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJwYWludFRvQ2FudmFzIiwid2lkdGgiLCJ2aWRlb1dpZHRoIiwiaGVpZ2h0IiwidmlkZW9IZWlnaHQiLCJjYW52YXMiLCJzZXRJbnRlcnZhbCIsImN0eCIsImRyYXdJbWFnZSIsInBpeGVscyIsImdldEltYWdlRGF0YSIsImNvbG9yRWZmZWN0IiwiY29sb3JTcGxpdGluZyIsImdsb2JhbEFscGhhIiwiYWxwaGEiLCJwdXRJbWFnZURhdGEiLCJpIiwiZGF0YSIsImxlbmd0aCIsImNvbG9yIiwicmVkIiwiZ3JlZW4iLCJibHVlIiwicGFyc2VJbnQiLCJjb2xvclNwbGl0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZ2V0Q29udGV4dCIsInN0cmlwIiwic25hcCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0YWtlUGhvdG8iLCJjdXJyZW50VGltZSIsInRvRGF0YVVSTCIsImxpbmsiLCJjcmVhdGVFbGVtZW50IiwiaHJlZiIsInNldEF0dHJpYnV0ZSIsImlubmVySFRNTCIsImluc2VydEJlZm9yZSIsImZpcnN0Q2hpbGQiLCJhbmd1bGFyIiwibW9kdWxlIiwiY29udHJvbGxlciIsIiRpbmplY3QiXSwibWFwcGluZ3MiOiJBQUFBLGNBQUEsV0FTQyxRQUFTQSxHQUFlQyxHQXdCdkIsUUFBU0MsS0FDUkMsVUFBVUMsYUFBYUMsY0FDckJDLE9BQU8sRUFDUEMsT0FBTyxJQUVQQyxLQUFLQyxTQUFBQSxHQUVMSCxFQUFNSSxJQUFNQyxPQUFPQyxJQUFJQyxnQkFBZ0JKLEdBRXZDSCxFQUFNUSxTQVJSWCxTQVVRWSxTQUFBQSxHQUVOQyxRQUFRQyxNQUFSRCxZQUEyQkQsS0FNOUIsUUFBU0csS0FFUixHQUFJQyxHQUFRYixFQUFNYyxXQUNkQyxFQUFTZixFQUFNZ0IsV0FLbkIsT0FIQUMsR0FBT0osTUFBUUEsRUFDZkksRUFBT0YsT0FBU0EsRUFFVEcsWUFBWSxXQUNsQkMsRUFBSUMsVUFBVXBCLEVBQU8sRUFBRyxFQUFHYSxFQUFPRSxHQUVsQ3BCLEVBQU8wQixPQUFTRixFQUFJRyxhQUFhLEVBQUcsRUFBR1QsRUFBT0UsR0FHOUNwQixFQUFPMEIsT0FBU0UsRUFBWTVCLEVBQU8wQixRQUduQzFCLEVBQU8wQixPQUFTRyxFQUFjN0IsRUFBTzBCLFFBR3JDRixFQUFJTSxZQUFjOUIsRUFBTytCLE1BR3pCUCxFQUFJUSxhQUFhaEMsRUFBTzBCLE9BQVEsRUFBRyxJQUVqQyxJQU1KLFFBQVNFLEdBQVlGLEdBSXBCLElBQUssR0FBSU8sR0FBSSxFQUFHQSxFQUFJUCxFQUFPUSxLQUFLQyxPQUFRRixHQUFLLEVBQzVDUCxFQUFPUSxLQUFLRCxFQUFJLEdBQUtQLEVBQU9RLEtBQUtELEVBQUksR0FBS2pDLEVBQU9vQyxNQUFNQyxJQUN2RFgsRUFBT1EsS0FBS0QsRUFBSSxHQUFLUCxFQUFPUSxLQUFLRCxFQUFJLEdBQUtqQyxFQUFPb0MsTUFBTUUsTUFDdkRaLEVBQU9RLEtBQUtELEVBQUksR0FBS1AsRUFBT1EsS0FBS0QsRUFBSSxHQUFLakMsRUFBT29DLE1BQU1HLElBR3hELE9BQU9iLEdBR1IsUUFBU0csR0FBY0gsR0FJdEIsSUFBSyxHQUFJTyxJQUhJTyxTQUFTeEMsRUFBT3lDLFdBQVdKLEtBQ3pCRyxTQUFTeEMsRUFBT3lDLFdBQVdILE9BQzVCRSxTQUFTeEMsRUFBT3lDLFdBQVdGLE1BQzVCLEdBQUdOLEVBQUlQLEVBQU9RLEtBQUtDLE9BQVFGLEdBQUssRUFJNUNQLEVBQU9RLEtBQUtELEVBQUksR0FBS1AsRUFBT1EsS0FBS0QsRUFBSSxFQUFJakMsRUFBT3lDLFdBQVdKLEtBQzNEWCxFQUFPUSxLQUFLRCxFQUFJLEdBQUtQLEVBQU9RLEtBQUtELEVBQUksRUFBSWpDLEVBQU95QyxXQUFXSCxPQUMzRFosRUFBT1EsS0FBS0QsRUFBSSxHQUFLUCxFQUFPUSxLQUFLRCxFQUFJLEVBQUlqQyxFQUFPeUMsV0FBV0YsS0FFNUQsT0FBT2IsR0FqR1IsR0FBSXJCLEdBQVFxQyxTQUFTQyxjQUFjLFdBQy9CckIsRUFBU29CLFNBQVNDLGNBQWMsVUFDaENuQixFQUFNRixFQUFPc0IsV0FBVyxNQUN4QkMsRUFBUUgsU0FBU0MsY0FBYyxVQUMvQkcsRUFBT0osU0FBU0MsY0FBYyxRQUVsQzNDLEdBQU9vQyxPQUNOQyxJQUFLLEVBQ0xDLE1BQU8sRUFDUEMsS0FBTSxHQUdQdkMsRUFBT3lDLFlBQ05KLElBQUssRUFDTEMsTUFBTyxFQUNQQyxLQUFNLEdBR1B2QyxFQUFPK0IsTUFBUSxFQXFCZjlCLElBK0JBSSxFQUFNMEMsaUJBQWlCLFVBQVc5QixHQStCbENqQixFQUFPZ0QsVUFBWSxXQUVsQkYsRUFBS0csWUFBYyxFQUNuQkgsRUFBS2pDLE1BR0wsSUFBSXFCLEdBQU9aLEVBQU80QixVQUFVLGFBQ3hCQyxFQUFPVCxTQUFTVSxjQUFjLElBQ2xDRCxHQUFLRSxLQUFPbkIsRUFDWmlCLEVBQUtHLGFBQWEsV0FBWSxZQUU5QkgsRUFBS0ksVUFBTEosYUFBOEJqQixFQUE5QmlCLHVCQUNBTixFQUFNVyxhQUFhTCxFQUFNTixFQUFNWSxhQXpIakNDLFFBQ0VDLE9BQU8sU0FDUEMsV0FBVyxpQkFBa0I3RCxHQUUvQkEsRUFBZThELFNBQVciLCJmaWxlIjoicGhvdG9Cb290aC9QaG90b0Jvb3RoQ3RybC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnbXlBcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ1Bob3RvQm9vdGhDdHJsJywgUGhvdG9Cb290aEN0cmwpO1xyXG5cclxuXHRQaG90b0Jvb3RoQ3RybC4kaW5qZWN0ID0gWyckc2NvcGUnXTtcclxuXHJcblx0ZnVuY3Rpb24gUGhvdG9Cb290aEN0cmwoJHNjb3BlKSB7XHJcblxyXG5cdFx0dmFyIHZpZGVvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBsYXllcicpO1xyXG5cdFx0dmFyIGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5waG90bycpO1xyXG5cdFx0dmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG5cdFx0dmFyIHN0cmlwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0cmlwJyk7XHJcblx0XHR2YXIgc25hcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zbmFwJyk7XHJcblxyXG5cdFx0JHNjb3BlLmNvbG9yID0ge1xyXG5cdFx0XHRyZWQ6IDAsXHJcblx0XHRcdGdyZWVuOiAwLFxyXG5cdFx0XHRibHVlOiAwXHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5jb2xvclNwbGl0ID0ge1xyXG5cdFx0XHRyZWQ6IDAsXHJcblx0XHRcdGdyZWVuOiAwLFxyXG5cdFx0XHRibHVlOiAwXHJcblx0XHR9XHJcblx0XHRcclxuXHRcdCRzY29wZS5hbHBoYSA9IDE7XHJcblxyXG5cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRWaWRlbygpIHtcclxuXHRcdFx0bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe1xyXG5cdFx0XHRcdFx0dmlkZW86IHRydWUsXHJcblx0XHRcdFx0XHRhdWRpbzogZmFsc2VcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdC50aGVuKGxvY2FsTWVkaWFTdHJlYW0gPT4ge1xyXG5cdFx0XHRcdFx0Ly9cdFx0XHRcdFx0Y29uc29sZS5sb2cobG9jYWxNZWRpYVN0cmVhbSlcclxuXHRcdFx0XHRcdHZpZGVvLnNyYyA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGxvY2FsTWVkaWFTdHJlYW0pO1xyXG5cclxuXHRcdFx0XHRcdHZpZGVvLnBsYXkoKTtcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdC5jYXRjaChlcnIgPT4ge1xyXG5cdFx0XHRcdFx0Ly9cdFx0XHRcdGFsZXJ0KGBPSCBOTyAhISFgLCBlcnIpO1xyXG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvcihgT0ggTk8gISEhYCwgZXJyKTtcclxuXHRcdFx0XHR9KVxyXG5cdFx0fVxyXG5cclxuXHRcdGdldFZpZGVvKCk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gcGFpbnRUb0NhbnZhcygpIHtcclxuXHRcdFx0Ly9cdFx0XHRnZXQgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgdmlkZW9cclxuXHRcdFx0dmFyIHdpZHRoID0gdmlkZW8udmlkZW9XaWR0aDtcclxuXHRcdFx0dmFyIGhlaWdodCA9IHZpZGVvLnZpZGVvSGVpZ2h0O1xyXG5cdFx0XHQvL1x0XHRcdHNldCBjYW52YXMgd2lkdGggYW5kIGhlaWdodCB0aGUgc2FtZSBhcyB2aWRlb1xyXG5cdFx0XHRjYW52YXMud2lkdGggPSB3aWR0aDtcclxuXHRcdFx0Y2FudmFzLmhlaWdodCA9IGhlaWdodDtcclxuXHJcblx0XHRcdHJldHVybiBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcblx0XHRcdFx0Y3R4LmRyYXdJbWFnZSh2aWRlbywgMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcblx0XHRcdFx0Ly9UYWtlIHRoZSBwaXhlbHMgb3V0XHJcblx0XHRcdFx0JHNjb3BlLnBpeGVscyA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcblxyXG5cdFx0XHRcdC8vY29sb3JFZmZlY3RcclxuXHRcdFx0XHQkc2NvcGUucGl4ZWxzID0gY29sb3JFZmZlY3QoJHNjb3BlLnBpeGVscyk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Ly9Db2xvciBzcGxpdFxyXG5cdFx0XHRcdCRzY29wZS5waXhlbHMgPSBjb2xvclNwbGl0aW5nKCRzY29wZS5waXhlbHMpO1xyXG5cclxuXHRcdFx0XHRcclxuXHRcdFx0XHRjdHguZ2xvYmFsQWxwaGEgPSAkc2NvcGUuYWxwaGE7XHJcblxyXG5cdFx0XHRcdC8vIFB1dCB0aGVtIGJhY2tcclxuXHRcdFx0XHRjdHgucHV0SW1hZ2VEYXRhKCRzY29wZS5waXhlbHMsIDAsIDApXHJcblxyXG5cdFx0XHR9LCAzMCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly9XaGVuIGZpbmlzaGVkIGxvYWRlZCBhbmQgaXMgcGxheWluZywgdmlkZW8gd2lsbCBlbWl0IGFuIGV2ZW50IGNhbGxlZCBcImNhbnBsYXlcIiwgaWYgd2UgY2FsbCBwYWludFRvQ2FudmFzIGJlZm9yZSB0aGUgdmlkZW8gaXMgcGxheWVkLCB0aGUgdmlkZW9XaWR0aCBhbmQgaGVpZ2h0IHdpbGwgYmUgMFxyXG5cdFx0dmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheScsIHBhaW50VG9DYW52YXMpO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGNvbG9yRWZmZWN0KHBpeGVscykge1xyXG4vL1x0XHRcdCRzY29wZS5yZWRJbnQgPSBwYXJzZUludCgkc2NvcGUuY29sb3IucmVkKTtcclxuLy9cdFx0XHQkc2NvcGUuZ3JlZW5JbnQgPSBwYXJzZUludCgkc2NvcGUuY29sb3IuZ3JlZW4pO1xyXG4vL1x0XHRcdCRzY29wZS5ibHVlSW50ID0gcGFyc2VJbnQoJHNjb3BlLmNvbG9yLmJsdWUpO1xyXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHBpeGVscy5kYXRhLmxlbmd0aDsgaSArPSA0KSB7XHJcblx0XHRcdFx0cGl4ZWxzLmRhdGFbaSArIDBdID0gcGl4ZWxzLmRhdGFbaSArIDBdICsgJHNjb3BlLmNvbG9yLnJlZDsgLy8gUkVEXHJcblx0XHRcdFx0cGl4ZWxzLmRhdGFbaSArIDFdID0gcGl4ZWxzLmRhdGFbaSArIDFdICsgJHNjb3BlLmNvbG9yLmdyZWVuOyAvLyBHUkVFTlxyXG5cdFx0XHRcdHBpeGVscy5kYXRhW2kgKyAyXSA9IHBpeGVscy5kYXRhW2kgKyAyXSArICRzY29wZS5jb2xvci5ibHVlOyAvLyBCbHVlXHJcbi8vXHRcdFx0XHRjb25zb2xlLmNvdW50KFwieW9sb1wiKVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBwaXhlbHM7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIGNvbG9yU3BsaXRpbmcocGl4ZWxzKSB7XHJcblx0XHRcdHZhciByZWRJbnQgPSBwYXJzZUludCgkc2NvcGUuY29sb3JTcGxpdC5yZWQpO1xyXG5cdFx0XHR2YXIgZ3JlZW5JbnQgPSBwYXJzZUludCgkc2NvcGUuY29sb3JTcGxpdC5ncmVlbik7XHJcblx0XHRcdHZhciBibHVlSW50ID0gcGFyc2VJbnQoJHNjb3BlLmNvbG9yU3BsaXQuYmx1ZSk7XHJcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcGl4ZWxzLmRhdGEubGVuZ3RoOyBpICs9IDQpIHtcclxuLy9cdFx0XHRcdHBpeGVscy5kYXRhW2kgKyAkc2NvcGUuY29sb3JTcGxpdC5yZWRdID0gcGl4ZWxzLmRhdGFbaSArIDBdOyAvLyBSRURcclxuLy9cdFx0XHRcdHBpeGVscy5kYXRhW2kgKyAkc2NvcGUuY29sb3JTcGxpdC5ncmVlbl0gPSBwaXhlbHMuZGF0YVtpICsgMV07IC8vIEdSRUVOXHJcbi8vXHRcdFx0XHRwaXhlbHMuZGF0YVtpICsgJHNjb3BlLmNvbG9yU3BsaXQuYmx1ZV0gPSBwaXhlbHMuZGF0YVtpICsgMl07IC8vIEJsdWVcclxuXHRcdFx0XHRwaXhlbHMuZGF0YVtpICsgMF0gPSBwaXhlbHMuZGF0YVtpICsgMCArICRzY29wZS5jb2xvclNwbGl0LnJlZF07IC8vIFJFRFxyXG5cdFx0XHRcdHBpeGVscy5kYXRhW2kgKyAxXSA9IHBpeGVscy5kYXRhW2kgKyAxICsgJHNjb3BlLmNvbG9yU3BsaXQuZ3JlZW5dOyAvLyBHUkVFTlxyXG5cdFx0XHRcdHBpeGVscy5kYXRhW2kgKyAyXSA9IHBpeGVscy5kYXRhW2kgKyAyICsgJHNjb3BlLmNvbG9yU3BsaXQuYmx1ZV07IC8vIEJsdWVcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gcGl4ZWxzO1xyXG5cdFx0fVxyXG5cclxuXHJcblx0XHQkc2NvcGUudGFrZVBob3RvID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQvL1x0XHRcdHBsYXkgdGhlIHNvdW5kXHJcblx0XHRcdHNuYXAuY3VycmVudFRpbWUgPSAwO1xyXG5cdFx0XHRzbmFwLnBsYXkoKTtcclxuXHJcblx0XHRcdC8vXHRcdFx0dGFrZSB0aGUgaW1hZ2Ugb3V0IG9mIGNhbnZhc1xyXG5cdFx0XHR2YXIgZGF0YSA9IGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL2pwZycpO1xyXG5cdFx0XHR2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuXHRcdFx0bGluay5ocmVmID0gZGF0YTtcclxuXHRcdFx0bGluay5zZXRBdHRyaWJ1dGUoJ2Rvd25sb2FkJywgJ2Rvd25sb2FkJyk7XHJcblx0XHRcdC8vXHRcdFx0bGluay50ZXh0Q29udGVudCA9ICdEb3dubG9hZCBJbWFnZSc7XHJcblx0XHRcdGxpbmsuaW5uZXJIVE1MID0gYDxpbWcgc3JjPVwiJHtkYXRhfVwiIGFsdD1cIlRha2UgcGhvdG9cIi8+YDtcclxuXHRcdFx0c3RyaXAuaW5zZXJ0QmVmb3JlKGxpbmssIHN0cmlwLmZpcnN0Q2hpbGQpO1xyXG5cdFx0fVxyXG5cclxuXHJcblx0XHRcclxuXHRcdFxyXG5cdFx0Ly9cclxuXHRcdC8vZnVuY3Rpb24gcmdiU3BsaXQocGl4ZWxzKSB7XHJcblx0XHQvLyAgZm9yKGxldCBpID0gMDsgaSA8IHBpeGVscy5kYXRhLmxlbmd0aDsgaSs9NCkge1xyXG5cdFx0Ly8gICAgcGl4ZWxzLmRhdGFbaSAtIDE1MF0gPSBwaXhlbHMuZGF0YVtpICsgMF07IC8vIFJFRFxyXG5cdFx0Ly8gICAgcGl4ZWxzLmRhdGFbaSArIDUwMF0gPSBwaXhlbHMuZGF0YVtpICsgMV07IC8vIEdSRUVOXHJcblx0XHQvLyAgICBwaXhlbHMuZGF0YVtpIC0gNTUwXSA9IHBpeGVscy5kYXRhW2kgKyAyXTsgLy8gQmx1ZVxyXG5cdFx0Ly8gIH1cclxuXHRcdC8vICByZXR1cm4gcGl4ZWxzO1xyXG5cdFx0Ly99XHJcblx0XHQvL1xyXG5cdFx0Ly9mdW5jdGlvbiBncmVlblNjcmVlbihwaXhlbHMpIHtcclxuXHRcdC8vICBjb25zdCBsZXZlbHMgPSB7fTtcclxuXHRcdC8vXHJcblx0XHQvLyAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJnYiBpbnB1dCcpLmZvckVhY2goKGlucHV0KSA9PiB7XHJcblx0XHQvLyAgICBsZXZlbHNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuXHRcdC8vICB9KTtcclxuXHRcdC8vXHJcblx0XHQvLyAgZm9yIChpID0gMDsgaSA8IHBpeGVscy5kYXRhLmxlbmd0aDsgaSA9IGkgKyA0KSB7XHJcblx0XHQvLyAgICByZWQgPSBwaXhlbHMuZGF0YVtpICsgMF07XHJcblx0XHQvLyAgICBncmVlbiA9IHBpeGVscy5kYXRhW2kgKyAxXTtcclxuXHRcdC8vICAgIGJsdWUgPSBwaXhlbHMuZGF0YVtpICsgMl07XHJcblx0XHQvLyAgICBhbHBoYSA9IHBpeGVscy5kYXRhW2kgKyAzXTtcclxuXHRcdC8vXHJcblx0XHQvLyAgICBpZiAocmVkID49IGxldmVscy5ybWluXHJcblx0XHQvLyAgICAgICYmIGdyZWVuID49IGxldmVscy5nbWluXHJcblx0XHQvLyAgICAgICYmIGJsdWUgPj0gbGV2ZWxzLmJtaW5cclxuXHRcdC8vICAgICAgJiYgcmVkIDw9IGxldmVscy5ybWF4XHJcblx0XHQvLyAgICAgICYmIGdyZWVuIDw9IGxldmVscy5nbWF4XHJcblx0XHQvLyAgICAgICYmIGJsdWUgPD0gbGV2ZWxzLmJtYXgpIHtcclxuXHRcdC8vICAgICAgLy8gdGFrZSBpdCBvdXQhXHJcblx0XHQvLyAgICAgIHBpeGVscy5kYXRhW2kgKyAzXSA9IDA7XHJcblx0XHQvLyAgICB9XHJcblx0XHQvLyAgfVxyXG5cdFx0Ly9cclxuXHRcdC8vICByZXR1cm4gcGl4ZWxzO1xyXG5cdFx0Ly99XHJcblx0XHQvL1xyXG5cdFx0Ly9nZXRWaWRlbygpO1xyXG5cdFx0Ly9cclxuXHRcdC8vXHRcdHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXknLCBwYWludFRvQ2FuYXZhcyk7XHJcblxyXG5cclxuXHR9XHJcbn0pKCk7Il19
